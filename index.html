<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Welcome</title>
  <style>
    @font-face {
      font-family: 'MyCustomFont';
      src: url('font/RMFontV2.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      font-family: 'MyCustomFont', sans-serif;
      background: transparent;
      display: flex;
      flex-direction: column;
      color: white;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('images/imagebackground.png?v=2') no-repeat center center fixed;
      background-size: cover;
      filter: blur(8px) brightness(0.7);
      z-index: -1;
    }

    .content {
      flex: 1;
      width: 100%;
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: left;
    }

    .welcome-box {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      padding: 40px 60px;
      border-radius: 16px;
      font-size: 2rem;
      margin-bottom: 30px;
      border: 2px solid black;
      box-shadow: 0 0 0 2px white, 0 0 10px black;
    }

    .highlight {
      color: orange;
    }

    .game-info {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      padding: 30px 40px;
      border-radius: 12px;
      font-size: 1.2rem;
      margin-bottom: 60px;
      box-shadow: 0 0 0 2px black, 0 0 10px white;
      max-width: 100%;
    }

    .carousel-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      gap: 10px;
      opacity: 1;
      transition: opacity 0.3s ease;
      pointer-events: auto;
    }

    .carousel-container.fade-out {
      opacity: 0;
      pointer-events: none;
      cursor: default;
    }

    .carousel-image {
      max-height: 200px;
      transition: all 0.3s ease, opacity 0.6s ease;
      opacity: 0;
      filter: grayscale(100%) blur(1px);
      cursor: pointer;
      border-radius: 6px;
    }

    .carousel-image.loaded {
      opacity: 0.4;
    }

    .carousel-image.active.loaded {
      opacity: 1;
      filter: none;
      transform: scale(1.1);
      border: 2px solid white;
    }

    .carousel-image.expanded {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1.8);
      z-index: 1000;
      box-shadow: 0 0 20px black;
      cursor: zoom-out;
    }

    .carousel-image:not(.active):hover {
      transform: scale(1.05);
      filter: grayscale(70%) blur(0.5px);
      opacity: 0.6;
    }

    footer {
      background: rgba(0, 0, 0, 0.8);
      color: #ccc;
      padding: 20px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      border-top: 1px solid #555;
      margin-top: auto;
    }

    @media (max-width: 768px) {
      .carousel-image {
        max-width: 30%;
        max-height: 120px;
      }
    }
  </style>
</head>
<body>
  <div class="content">
    <div class="welcome-box">
      WELCOME TO THE <span class="highlight">COMPANY</span>
    </div>
    <div class="game-info">
      <p>JOIN THE DISCORD</p>
      <p>
        WELCOME TO THE <span class="highlight">COMPANY</span>. IT’S YOUR JOB TO MAKE US PROUD. NO QUESTIONS ASKED. NO ONE TO HOLD YOUR HAND. YOU AND YOUR CREW WILL DESCEND INTO THE ABANDONED LABS, HUNTING FOR SCRAP AND RARE ITEMS. THE MORE YOU BRING BACK, THE MORE YOU'LL GET. BUT BE CAREFUL, THE LABS DON’T GIVE UP THEIR SECRETS EASILY. SELL WHAT YOU FIND TO RICK, WHO’S WAITING BACK AT THE DIVING BELL, AND USE YOUR COMPANY COINS TO BUY SOMETHING TO CHANGE YOUR LOOK. REMEMBER, THE COMPANY DOESN’T CARE HOW YOU GET IT DONE, JUST THAT YOU DO.
      </p>
    </div>

    <div style="display:flex; justify-content:center; gap:20px; margin-bottom:10px;">
      <button onclick="animateCarouselUpdate('left')">⬅️</button>
      <button onclick="animateCarouselUpdate('right')">➡️</button>
    </div>

    <div class="carousel-container" id="carousel">
      <img src="images/content/image7.png" class="carousel-image" id="left" alt="Left image">
      <img src="images/content/image1.png" class="carousel-image active" id="center" alt="Center image">
      <img src="images/content/image2.png" class="carousel-image" id="right" alt="Right image">
    </div>
    <div id="image-caption" style="text-align:center; font-size:1rem; color:#ccc; margin-bottom:60px;"></div>
  </div>

  <footer>
    &copy; 2025 THE COMPANY | <a href="#">GitHub</a> | <a href="#">Credits</a>
  </footer>

  <script>
    const images = [
      "images/content/image1.png",
      "images/content/image2.png",
      "images/content/image3.png",
      "images/content/image4.png",
      "images/content/image5.png",
      "images/content/image6.png",
      "images/content/image7.png"
    ];

    const captions = [
      "Caption for image 1",
      "Caption for image 2",
      "Caption for image 3",
      "Caption for image 4",
      "Caption for image 5",
      "Caption for image 6",
      "Caption for image 7"
    ];

    let currentIndex = 0;
    let isTransitioning = false;

    const carousel = document.getElementById("carousel");
    const left = document.getElementById("left");
    const center = document.getElementById("center");
    const right = document.getElementById("right");
    const caption = document.getElementById("image-caption");

    function preloadImages(callback) {
      let loadedCount = 0;
      const toLoad = [left, center, right];
      toLoad.forEach((img) => {
        const newImg = new Image();
        newImg.src = img.src;
        newImg.onload = () => {
          img.classList.add("loaded");
          loadedCount++;
          if (loadedCount === toLoad.length && callback) callback();
        };
      });
    }

    function updateCarousel() {
      const total = images.length;
      left.src = `${images[(currentIndex - 1 + total) % total]}?v=${Date.now()}`;
      center.src = `${images[currentIndex]}?v=${Date.now()}`;
      right.src = `${images[(currentIndex + 1) % total]}?v=${Date.now()}`;

      left.alt = `Image ${(currentIndex - 1 + total) % total}`;
      center.alt = `Image ${currentIndex}`;
      right.alt = `Image ${(currentIndex + 1) % total}`;

      caption.textContent = captions[currentIndex] || "";

      preloadImages();
    }

    function animateCarouselUpdate(direction) {
      if (isTransitioning) return;
      isTransitioning = true;
      carousel.classList.add("fade-out");

      setTimeout(() => {
        if (direction === "left") {
          currentIndex = (currentIndex - 1 + images.length) % images.length;
        } else if (direction === "right") {
          currentIndex = (currentIndex + 1) % images.length;
        }

        updateCarousel();

        setTimeout(() => {
          carousel.classList.remove("fade-out");
          setTimeout(() => {
            isTransitioning = false;
          }, 300);
        }, 1000);
      }, 300);
    }

    left.addEventListener("click", () => animateCarouselUpdate("left"));
    right.addEventListener("click", () => animateCarouselUpdate("right"));
    center.addEventListener("click", () => {
      if (isTransitioning) return;
      center.classList.toggle("expanded");
    });

    document.addEventListener("keydown", (e) => {
      if (isTransitioning) return;
      if (e.key === "ArrowLeft") animateCarouselUpdate("left");
      if (e.key === "ArrowRight") animateCarouselUpdate("right");
    });

    window.addEventListener("load", () => {
      preloadImages(() => {
        updateCarousel();
      });
    });
  </script>
</body>
</html>
