<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Welcome</title>
  <style>
    @font-face {
      font-family: 'MyCustomFont';
      src: url('font/RMFontV2.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    /* Global Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Fade in animation for overall content */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    html, body {
      height: 100%;
      width: 100%;
      font-family: 'MyCustomFont', sans-serif;
      background: transparent;
      display: flex;
      flex-direction: column;
      color: white;
      overflow-x: hidden;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('images/imagebackground.png?v=2') no-repeat center center fixed;
      background-size: cover;
      filter: blur(8px) brightness(0.7);
      z-index: -1;
      animation: fadeIn 1.5s ease forwards;
    }

    .content {
      flex: 1;
      width: 100%;
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: left;
      animation: fadeIn 1s ease forwards;
    }

    .welcome-box {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      padding: 40px 60px;
      border-radius: 16px;
      font-size: 2rem;
      margin-bottom: 30px;
      border: 2px solid black;
      box-shadow: 0 0 0 2px white, 0 0 10px black;
      animation: fadeIn 1.2s ease forwards;
    }

    .highlight {
      color: orange;
    }

    .game-info {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      padding: 30px 40px;
      border-radius: 12px;
      font-size: 1.2rem;
      margin-bottom: 60px;
      box-shadow: 0 0 0 2px black, 0 0 10px white;
      max-width: 100%;
      animation: fadeIn 1.4s ease forwards;
    }

    .carousel-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 60px;
      gap: 10px;
      transition: opacity 0.3s ease;
      pointer-events: auto;
    }

    /* Class to fade out and disable interactions */
    .carousel-container.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .carousel-image {
      max-height: 200px;
      transition: all 0.3s ease;
      opacity: 0.4;
      filter: grayscale(100%) blur(1px);
      cursor: pointer;
      border-radius: 6px;
    }

    .carousel-image:hover {
      transform: scale(1.05);
      filter: brightness(1.1);
    }

    .carousel-image.active {
      opacity: 1;
      filter: none;
      transform: scale(1.1);
      border: 2px solid white;
    }

    .carousel-image.expanded {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1.8);
      z-index: 1000;
      box-shadow: 0 0 20px black;
      cursor: zoom-out;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    footer {
      background: rgba(0, 0, 0, 0.8);
      color: #ccc;
      padding: 20px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      border-top: 1px solid #555;
      margin-top: auto;
      animation: fadeIn 1.6s ease forwards;
    }

    .welcome-box, .game-info, .carousel-image.active {
      outline: 2px solid black;
      box-shadow: 0 0 0 2px white;
    }

    @media (max-width: 768px) {
      .carousel-image {
        max-width: 30%;
        max-height: 120px;
      }
    }
  </style>
</head>
<body>
  <div class="content">
    <div class="welcome-box">
      WELCOME TO THE <span class="highlight">COMPANY</span>
    </div>
    <div class="game-info">
      <p>JOIN THE DISCORD</p>
      <p>
        WELCOME TO THE <span class="highlight">COMPANY</span>. IT’S YOUR JOB TO MAKE US PROUD. NO QUESTIONS ASKED. NO ONE TO HOLD YOUR HAND. YOU AND YOUR CREW WILL DESCEND INTO THE ABANDONED LABS, HUNTING FOR SCRAP AND RARE ITEMS. THE MORE YOU BRING BACK, THE MORE YOU'LL GET. BUT BE CAREFUL, THE LABS DON’T GIVE UP THEIR SECRETS EASILY. SELL WHAT YOU FIND TO RICK, WHO’S WAITING BACK AT THE DIVING BELL, AND USE YOUR COMPANY COINS TO BUY SOMETHING TO CHANGE YOUR LOOK. REMEMBER, THE COMPANY DOESN’T CARE HOW YOU GET IT DONE, JUST THAT YOU DO.
      </p>
    </div>

    <div class="carousel-container">
      <img src="images/content/image7.png" class="carousel-image" id="left" alt="Left carousel image">
      <img src="images/content/image1.png" class="carousel-image active" id="center" alt="Center carousel image">
      <img src="images/content/image2.png" class="carousel-image" id="right" alt="Right carousel image">
    </div>
  </div>

  <footer>
    &copy; 2025 THE COMPANY | <a href="#">GitHub</a> | <a href="#">Credits</a>
  </footer>

  <script>
    const images = [
      "images/content/image1.png",
      "images/content/image2.png",
      "images/content/image3.png",
      "images/content/image4.png",
      "images/content/image5.png",
      "images/content/image6.png",
      "images/content/image7.png"
    ];

    let currentIndex = 0;
    let isTransitioning = false;
    const left = document.getElementById("left");
    const center = document.getElementById("center");
    const right = document.getElementById("right");
    const carouselContainer = document.querySelector('.carousel-container');

    function updateCarousel() {
      const total = images.length;
      left.src = `${images[(currentIndex - 1 + total) % total]}?v=${Date.now()}`;
      center.src = `${images[currentIndex]}?v=${Date.now()}`;
      right.src = `${images[(currentIndex + 1) % total]}?v=${Date.now()}`;
    }

    function animateCarouselUpdate(direction) {
      if (isTransitioning) return;
      isTransitioning = true;
      
      // Start fade-out by adding the class
      carouselContainer.classList.add('fade-out');

      // Listen for the fade-out transition to complete (opacity goes to 0)
      const onFadeOut = (e) => {
        if (e.propertyName === 'opacity') {
          // Update currentIndex while hidden
          if(direction === 'left'){
            currentIndex = (currentIndex - 1 + images.length) % images.length;
          } else if(direction === 'right'){
            currentIndex = (currentIndex + 1) % images.length;
          }
          updateCarousel();
          // Remove the fade-out class to trigger fade-in
          carouselContainer.classList.remove('fade-out');
          carouselContainer.removeEventListener('transitionend', onFadeOut);
          
          // Listen for fade-in to finish before re-enabling interactions
          const onFadeIn = (e2) => {
            if (e2.propertyName === 'opacity' && !carouselContainer.classList.contains('fade-out')) {
              isTransitioning = false;
              carouselContainer.removeEventListener('transitionend', onFadeIn);
            }
          };
          carouselContainer.addEventListener('transitionend', onFadeIn);
        }
      };

      carouselContainer.addEventListener('transitionend', onFadeOut);
    }

    left.addEventListener("click", () => {
      animateCarouselUpdate('left');
    });

    right.addEventListener("click", () => {
      animateCarouselUpdate('right');
    });

    center.addEventListener("click", () => {
      if (isTransitioning) return;
      center.classList.toggle("expanded");
    });

    updateCarousel();
  </script>
</body>
</html>
